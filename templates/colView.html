<head>
	<link rel="stylesheet" type="text/css" href="/static/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="/static/css/colView.css">
	<link rel="stylesheet" type="text/css" href="/static/css/types.css">
	<script src="/static/jscript/jquery-1.7.1.min.js"></script>
	<script src="/static/jscript/colView.js"></script>
	<script src="/static/jscript/printDocument.js"></script>
	<script src="/static/jscript/jquery.hotkeys.js"></script>
	
	<script>
	"use strict"
	//$(document).bind('keydown', 'ctrl+a', changeValueType);
	$(document).ready(function(){
		appendCriteriaField()
		$(".oneKeyContainer").click(loadDistinctVals)
	})
	
	var dbName = "{{dbName}}"
	var colName = "{{colName}}"
	</script>
</head>

<body style="padding:20px;">
<div id="breadCrumbPath"><h2><a href='/'>Home</a> -> <a href='/db/{{dbName}}'>{{dbName}}</a> -> {{colName}}</h2></div>
<div style="font-size:30px;height:35px;margin-top:10px;margin-left:15px;">{{count}} total entries</div>

<div id="schema" style="float:left;width:50%">
	<ul>
	{% for key in schema %}
	<li class="oneKeyContainer" data-field="{{key['_id']['key']}}">{{key['_id']['key']}} ({{key['percentContaining']}}% / #{{key['totalOccurrences']}})</li>
	
	{% endfor %}
	</ul>
</div> <!--Schema div -->

<span id="fieldInfo" style="float:left;">
<h2>Field Info</h2>
	<div id="fieldlist"></div>
</span> <!--fieldInfo-->

<div style="width:100%;clear:both;"></div>
<button onclick="javascript:loadSchema()">Get Schema</button>
<div style="margin-bottom:20px;" id="queryDiv" style="clear:both";></div>



<h2>Query Div</h2>
	<button onclick="javascript:appendCriteriaField()">Add Field</button>
	<!--appendCriteriaField dynamically puts fields here -->
</div> <!--queryDiv-->
<button onclick="javascript:query()">Search</button>
<div id="queryCount"></div>
<div id="resultsDiv">
	<!--results will be placed here by javascript
</div> <!--resultsDiv-->
</body>